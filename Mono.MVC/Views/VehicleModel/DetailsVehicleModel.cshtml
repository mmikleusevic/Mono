@model VehicleModelViewModel
@{
    ViewData["Title"] = "Vehicle model details";
    List<VehicleMakeViewModel>? vehicleMakes = ViewData["makes"] as List<VehicleMakeViewModel>;
}
<h2>Vehicle model details</h2>
<hr />
<div>
    <form method="post">
        <input class="row" name="id" hidden value="@Model.Id" style="margin:5px 0px"/>
        <select  disabled="@(vehicleMakes == null)" value="@Model.MakeId" name="makeId">
            @if (Model.VehicleMakeViewModel != null)
            {
                <option value="" selected>Select make</option>
                @foreach (var make in vehicleMakes!)
                {
                    <option value="@make.Id">@make.Name</option>
                }
            }
        </select>
        <input class="row" name="name" placeholder="Enter name" value="@Model.Name" style="margin:5px 0px"/>
        <input class="row" name="abrv" placeholder="Enter abbreviation" value="@Model.Abrv" style="margin:5px 0px">

        @if (Model.Id == 0)
        {
            <input 
                asp-controller="VehicleModel" 
                asp-action="CreateVehicleModel" type="submit" name="Create" 
                value="Create" class="btn btn-primary" style="margin:5px 0px" />
        }
        else
        {
            <input asp-controller="VehicleModel" 
                asp-action="UpdateVehicleModel" 
                asp-route-id="@Model.Id" type="submit" name="Update" value="Update" 
                class="btn btn-primary" style="margin:5px 0px" />
        }
    </form>
</div>
